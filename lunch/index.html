<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>What's for lunch?</title>
    <meta name="viewport" content="width=device-width, initial-scale = 1.0, maximum-scale=1.0, user-scalable=no" />
    <link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
    <style>
    body {
        margin: 0;
        padding: 0;
        background: url(bg.jpg) no-repeat center center fixed; 
		-webkit-background-size: cover;
		-moz-background-size: cover;
		-o-background-size: cover;
		background-size: cover;

    }
    
    * {
        box-sizing: border-box;
        outline: none;
    }
    
    .container {
        color: #fff;
        background-color:rgba(0,0,0,0.8);
        background-repeat: no-repeat;
        padding:3vh;
        text-align: center;
        width:90%;
        max-width: 500px;
        margin: 28vh auto;
        font-family: 'Oswald', sans-serif;
 		border-radius: 5px;
 		/*line-height: 110%;*/
    }

    .result{
    	margin-bottom:2vh;
    	font-size:2em;
    	white-space: nowrap;
    }

    .result span{
    	color:#999;
    }

    .spin{
    	padding:3%;
    	width:40%;
    	display:block;
    	border-radius:3px;
    	cursor:pointer;
    	margin:0 auto;
    	background-color:#78D270;
    	margin-bottom:2vh;
        border:0;
        color:#fff;
        font-size:16px;
        font-family: 'Oswald', sans-serif;

    	-webkit-user-select: none; /* Chrome/Safari */        
    	-moz-user-select: none; /* Firefox */
    	-ms-user-select: none; /* IE10+ */
    }

    .spin:hover{
    	background-color: #82DC7A;
    }

    .disabled{
        background-color:#999;    
    }

    .disabled:hover{
        background-color:#999;
    }ee

    .alert{
    	margin-top:20px;
    	line-height: 110%;
    }
    
    </style>
</head>

<body>
    
    <div class="container">
        <div class="result"><span>"What's for lunch?"</span></div>
        <button class="spin">ROLL!</button>
        <span class="alert"></div>
		
		<input type="hidden" id="Yong_Tau_Foo" value="0">
		<input type="hidden" id="BK_菜饭" value="0">
		<input type="hidden" id="BK_Mee Sua" value="0">
		<input type="hidden" id="Gentle_Bros_Cafe" value="0">
		<input type="hidden" id="Hong_Lim_Fish_Soup" value="0">
		<input type="hidden" id="Mcdonalds" value="0">
		<input type="hidden" id="KFC" value="0">
		<input type="hidden" id="Stressful_Kopitiam" value="0">
		<input type="hidden" id="Prawn_Noodles" value="0">
		<input type="hidden" id="Rainbow_Rice" value="0">
		<input type="hidden" id="One_Raffles_Place" value="0">
		<input type="hidden" id="Haakon" value="0">
		<input type="hidden" id="Mister_Wong" value="0">
		<input type="hidden" id="Lala_Noodles" value="0">
   <div>
   
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script>

    var count = 0;

    $('.spin').bind('click', function(e){
    	e.preventDefault();
    	var arr = new Array(
	    	'Yong Tau Foo', 
	    	'BK 菜饭', 
            'BK Mee Sua',
            'Gentle Bros Cafe', 
            'Hong Lim Fish Soup',
            'Mcdonalds',
            'KFC',
            'Stressful Kopitiam', 
            'Prawn Noodles',
            'Rainbow Rice', 
            'One Raffles Place',
            'Haakon',
            'Mister Wong',
            'Lala Noodles'
	    	);

        // randomly choose from array
        var randomResponse = arr[Math.floor(Math.random() * ((arr.length - 1) - 0 + 1))];
        $('.result').html(randomResponse);

        // count how many times generated   
        count++;
        
        if (count >= 10) {
            $('.alert').html('Make up your mind leh.' + '<br />You rolled <u>' + count + '</u> times already.')
        }

        // find out how many occurences has happened
        randomResponse  = randomResponse.replace(/ /g,"_");
        
        var currentHidden = $("#" + randomResponse + "").val();
        
        currentHidden = parseInt(currentHidden);
        currentHidden = currentHidden + 1;

        $('#' + randomResponse + '').val(currentHidden);
        console.log(randomResponse + currentHidden)

        // display message if occurence is more than 3
        if (currentHidden >= 3){
            randomResponse  = randomResponse.replace(/_/g," ");
            $('.alert').html("Eh. " + randomResponse + " has appeared 3 times already.<br />You will eat " + randomResponse + " today. Bye!");
            $('.spin').attr('disabled','disabled');
            // $('.spin').text('NO MORE ROLLING.');
            $('.spin').addClass('disabled');
        }
		 
	});
	      
    </script>
    	

</body>

</html>
