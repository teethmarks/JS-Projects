<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Jukebox</title>
</head>
<body>
	
	<script>
	
	// Constructor Function
	var Song = function(title,artist,lyrics){
		this.title = title;
		this.artist = artist;
		this.lyrics = lyrics;
		this.playSong = function() {
			console.log("Now playing: " + this.title + " by " + this.artist);
			console.log(this.lyrics);
		};
	};

	// Current Song List
	var goodVibrations = new Song("Good Vibrations", "The Beach Boys", "I'm pickin' up good vibrations.");
	var hereComesTheSun = new Song("Here Comes The Sun", "The Beatles", "Here comes the sun and I say it's all right.");
	var daydreamBeliever = new Song("Daydream Believer", "The Monkees", "Cheer up, Sleepy Jean. Oh, what can it mean.");
	var houndDog = new Song("Hound Dog", "Elvis Presley", "You ain't nothin' but a hound dog cryin' all the time.");
	var dontBeCruel = new Song("Don't Be Cruel", "Elvis Presley", "I don't want no other love, Baby it's just you I'm thinking of.");

	var songs = [goodVibrations,hereComesTheSun,daydreamBeliever,houndDog,dontBeCruel]

	// Greet
	var userName;
	function startJukeBox(){
		userName = prompt("Welcome to the Tune Machine. Looks like you're ready to play some tunes! What's your name?","Bob");
	};

	// Make Selection
	function makeSelection(){
		var userSelect = prompt("Hi " + userName + "! Would you like to (A)dd a new song, (S)earch for an existing song, (P)lay all songs in the queue, or (Q)uit?").toLowerCase();

		if (userSelect === "a") {
			addSong();
		} else if (userSelect === "s") {
			searchForSong();
		} else if (userSelect === "p") {
			playSongs();
		} else if (userSelect === "q") {
			console.log ("Quitting? BYE!")
		} else {
			console.log("Invalid Entry. Bye!")
		};
	}

	// Add Song
	var playQueue = []; // Don't really understand the need for this.
	function addSong(){
		var addTitle = prompt("What is the title of the song you'd like to add?");
		var addArtist = prompt("Artist Name?");
		var addLyrics = prompt("Lyrics?");
		var newSong = new Song(addTitle,addArtist,addLyrics);

		songs.push(newSong); // What will be the var name of this new entry?
		playQueue.push(newSong); // Don't really understand the need for this.

		console.log("Well done. " + addTitle + " has been added.");
	};

	// Search For Song
	function searchForSong(){
		var userSearch = prompt("Please enter a song or artist.").toLowerCase();
		var results = []; // Should this be a global var? Or only in this scope?
		var song;
		var printableResults = "";

		// Loop through the songs array
		for (var i = 0; i < songs.length; i++) {

			// Find a match, if match found, push to array
			if (userSearch === songs[i].title.toLowerCase() || userSearch === songs[i].artist.toLowerCase()){
				results.push(songs[i]);
				song = songs[i];
			}

		};

		// If only 1 song found
		if (results.length === 1) {

			var addSong = prompt("One song was found:\n" + song.title + "\n" + "Would you like to add this song to the queue? (Y)es or (N)o?").toLowerCase();

			if (addSong === "y"){
				playQueue.push(song);
				console.log("Great choice, " + userName + "! " + song.title + " has been added.")
			}
		}

		// If multiple songs found
		else if (results.length > 1) {
			for (var i = 0; i < results.length; i++){
				printableResults += i + 1 + " " + results[i].title + " by " + results[i].artist + "\n"; // Didn't see this "+=" part coming.
			};
			
			var userSongSelect = prompt(results.length + " songs were found:\n\n" + printableResults + "\n" + "Please enter the number for the song you would like to add.");

			// Continue with userSongSelect again.
		}

		//return results; // Still unsure of why or when I should be using 'return'
	};

	startJukeBox();
	makeSelection();

	</script>

</body>
</html>